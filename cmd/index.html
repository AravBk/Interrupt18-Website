<html>
	<head>
		<title>Interrupt '18 | Command Prompt</title>
		<link href="https://fonts.googleapis.com/css?family=Share+Tech+Mono" rel="stylesheet">
		<link href="css/index-css.css" rel="stylesheet">
		<link rel="icon" href="../img/favicon.jpeg">
	</head>

	
	<body id="terminal">
		
		<p id="terminal-output"></p> <!-- This is where all the terminal output is displayed. Pure javascript. -->
		<input type="text" name="terminal-in" id="terminal-input" autocomplete="off"> <!-- The invisible textfield -->

	</body>
	
	<script>
		document.getElementById("terminal-input").focus(); //We transfer focus to the terminal-textbox after page loads.
		document.getElementById("terminal").addEventListener("click", function(){
			document.getElementById("terminal-input").focus();
		}); //Wherever the user clicks, the focus is on the textbox
		
		
		/*========================================*/
		/*========================================*/
		/*========================================*/
		/*These following script statements are for the text to be displayed when the page is loaded*/
		//We display all these strings one by one when the page loads with a slight delay to keep up the illusion of a proper working terminal
		
		var typeText="<span style='color: white'>Welcome to the Interrupt Command Prompt! <br>Last login: "+Date().substring(0,24)+" on console</span> <br><br>"+
		"<span style='color: lightgreen'><span class='underline'>CLICK</span> on the commands to know more.</span><br><br>";

		var cmdlinks1="<a href='http://interrupt2k18.in/' class='cmd-links'>home</a> <br>"+
		"<a href='../register/index.html' class='cmd-links'>register</a> <br>"+
		"<a href='../login/index.php' class='cmd-links'>login</a> <br>"+
		"<span class='cmd-links' onclick='setTerminalText(2)'>contact-us</span> <br><br>";
		
		
		//The following strings will have span elems at the end. This is to provide an easy way for us to adjust the space between elements in a row. As of now, the commands (names of events) are arranged in columns of 3 and rows of 3.
		var cmdlinks2="<span style='color: lightgreen'><span class='underline'>CLICK</span> on the event to know more!</span><br><br>"+
		"<span class='cmd-links' onclick='setTerminalText(3)'>Logician's Code</span>"+
		"<span class='cmd-links' onclick='setTerminalText(4)'>Pitch Perfect</span> <br>"+
		"<span class='cmd-links' onclick='setTerminalText(5)'>Inquizitive</span>"+
		"<span class='cmd-links' onclick='setTerminalText(6)'>Flexbox Froggy</span> <br>"+
		"<span class='cmd-links' onclick='setTerminalText(7)'>Finish The Code</span>"+
		"<span class='cmd-links' onclick='setTerminalText(8)'>Terminal Of Secrets</span> <br>"+
		"<span class='cmd-links' onclick='setTerminalText(9)'>Presentation Hub</span>"+
		"<span class='cmd-links' onclick='setTerminalText(10)'>TechCrunch</span> <br>"+
		"<span class='cmd-links' onclick='setTerminalText(11)'>TechnoFair</span>"+
		"<span class='cmd-links' onclick='setTerminalText(12)'>Interrupt The Challenge</span> <br>"+
		"<span class='cmd-links' onclick='setTerminalText(13)'>Pipe The Piper</span>"+
		"<span class='cmd-links' onclick='setTerminalText(14)'>Data Science</span> <br>"+
		"<span class='cmd-links' onclick='setTerminalText(15)'>Workshop AWS</span>"+
		"<br><br><br>";
		
		var dt=Date();
		
		var userTerminal="<span style='color: blue;'>("+getDateTime()+") </span><span style='color:orange'>root<span style='color:yellow;''>@</span><span style='color:orange'>interrupt18</span>:~$</span> ";
		
		window.setTimeout(function(){
			document.getElementById("terminal-output").innerHTML+=typeText;
		}, 500); //We append the typeText string to the <p> tag
		
		window.setTimeout(function(){
			document.getElementById("terminal-output").innerHTML+=cmdlinks1;
		}, 750); //We append the cmdlinks1 string to the <p> tag
		
		window.setTimeout(function(){
			document.getElementById("terminal-output").innerHTML+=cmdlinks2;
		}, 1000); //We append the cmdlinks2 string to the <p> tag
		
		var idNum=1;
		window.setTimeout(function(){
			document.getElementById("terminal-output").innerHTML+=userTerminal;
			document.getElementById("terminal-output").innerHTML+="<span class='ter-inp' id='terminal-form-input"+idNum+"'></span>";
			document.getElementById("terminal-output").innerHTML+="<span style='width:5%;' id='cursor-blink"+idNum+"'>|</span>";
			
			document.getElementById("terminal-input").addEventListener("keyup", addTerminalOutput);
			document.getElementById("terminal-input").addEventListener("keydown", autoFillInput);
			window.setInterval(blink,500);
		}, 1250); //We intro the 'cursor' element here. It's actually a div whose background changes color every second.
		
		var blinkNum=0;
		function blink(){
			if(blinkNum==0){
				document.getElementById("cursor-blink"+idNum).style.backgroundColor="white";
				document.getElementById("cursor-blink"+idNum).style.color="white";
				blinkNum=1;
			}
			else{
				document.getElementById("cursor-blink"+idNum).style.backgroundColor="black";
				document.getElementById("cursor-blink"+idNum).style.color="black";
				blinkNum=0;
			}
		} //This is the function which makes sure the cursor element 'blinks'.
			
		function getDateTime(){
			var dt=Date();
			return dt.substring(16,21);
		}
		
		/*This is where the scripts for the text to be displayed on load ends.*/
		/*========================================*/
		/*========================================*/
		/*========================================*/
		
		
		
		/*========================================*/
		/*========================================*/
		/*========================================*/
		/*The function which analyse the input into the textfield and then mirror it into the <p> tag*/

		function addTerminalOutput(e){
			var input=document.getElementById("terminal-input").value;
			document.getElementById("terminal-form-input"+idNum).innerHTML=input;
			if(e.keyCode==13){ //The keyCode for the 'enter' key is 13
				analyseInput();
			}
		} //This function reads the text which is in the textbox and then mirrors the text in the <span> element in the p tag.
		
		function analyseInput(){ //This function analyses the command given and outputs a response. It also creates new 'blink' and 'terminal-form' elem
			var input=document.getElementById("terminal-input").value; //We get the value in the 'invisible' textfield.
			input=input.toUpperCase(); //We make it uppercase and then cmp it with uppercase inputs to make it 'case-insensitive'.

			document.getElementsByTagName("html")[0].style.overflowY="scroll"; //We change the overflow-y property to scroll because it was 'hidden' in the css. This was done because we needed to fix the bug of the scroll bar appearing erratically on the side. So, only when a command is entered do we show scroll.
			
			if(input=="HOME"){ //We then compare the input against different inputs. We then append the required output or do the required action.
				window.location.href="../";     //delete the index.html out at deployment
			}
			else if(input=="REGISTER"){
				window.location.href="../register/";          //delete the index.html out at deployment
			}
			else if(input=="LOGIN"){ 
				window.location.href="../login/";
			}
			else if(input=="CONTACT-US"){ //For the contact cmd, we display a picture of a phone.
				var outputResult="<br>   _______<br>"+
				" /` _____ `\\;,<br>"+
				"/__(^===^)__\\;,<br>"+
				"  /  :::  \\   ,;<br>"+
				" |   :::   | ,;'<br>"+
				" '._______.'`<br><br>"+
				"-bash: Contact any one of the following in-charges for queries.<br>"+
				"-bash: Arjun Aravind (8939227284) or Sathvik (8939227284)<br>";
				
				document.getElementById("terminal-output").innerHTML+=("<br>"+outputResult);
			}
			else if(input=="QUIZ"){ //For quiz, we output a picture of mickey mouse. Why not?
				var outputResult="<br>         .-\"\"\"-.<br>"+
				"        /       \\<br>"+
				"        \\       /<br>"+
				" .-\"\"\"-.-`.-.-.<  _<br>"+
				"/      _,-\\ ()()_/:)<br>"+
				"\\     / ,  `     `|<br>"+
				" '-..-| \\-.,___,  /<br>"+
				"      \\ `-.__/  /<br>"+
				"       `-.__.-'`<br><br>"+
				"-rules: Maximum of 2 members per team.<br>"+
				"-contact: Arjun Aravind (8939227284) or Sathvik (8939227284)<br>";
				
				document.getElementById("terminal-output").innerHTML+=("<br>"+outputResult);
			}
			else if(input=="LS" || input=="CLEAR" || input=="HELP"){ //While displaying ls, the page will display a list of available commands. The 'ls' command, when called, clears the screen and then displays available commands. For now, the ls command and the clear commands will do the same thing. They will clear the screen and show the available commands. The help command does the same thing.
				
				var outputResult="";
				
				document.getElementById("terminal-output").innerHTML="";
				document.getElementById("terminal-output").innerHTML+="<span id='cursor-blink"+idNum+"'></span>";
				
				var outputResult="";
				outputResult+="<span style='color: lightgreen'><span class='underline'>CLICK</span> on the commands to know more.</span> <br><br>";
				outputResult+=cmdlinks1+cmdlinks2;
				
				document.getElementById("terminal-output").innerHTML+=("<br>"+outputResult);
			}
			/*else if(input=="CLEAR"){ //For the clear cmd, we clear the screen but add a cursor-blink elem so that the JS doesnt throw an error in line 224. This is because if a JS stmt refers a HTML element which isnt there, then the whole JS execution stops.
				var outputResult="";
				
				document.getElementById("terminal-output").innerHTML="";
				document.getElementById("terminal-output").innerHTML+="<span id='cursor-blink"+idNum+"'></span>";
			}*/
			else if(input=="RUN"){
				window.location.href="";
			}
			else if(input=="FINISH THE CODE"){
				var drawing="<br><br>   ___________<br>"+
			         "  |.---------.|<br>"+
			         "  ||         ||<br>"+
			         "  ||         ||<br>"+
			         "  ||         ||<br>"+
			         "  |'---------'|<br>"+
			         "   `)__ ____('<br>"+
			         "   [=== -- o ]--.<br>"+
			         " __'---------'__ \\<br>"+
			         "[::::::::::: :::] )<br>"+
			         " `\"\"'\"\"\"\"\"'\"\"\"\"`/T\\<br>"+
			         "                \\_/<br><br>";
				
				var outputResult=drawing+"-event-description: It is a reverse-coding event. It is also a code relay. <br>"+
				"-rules: Maximum of 2 members per team.<br>"+
				"-rules: Teams will have to register online before they participate.<br>"+
				"-timings: Prelims at 10AM. Finals at 2PM.<br>"+
				"-contact: Arjun Aravind (8939227284) or Sathvik (8939227284)<br>";
				
				document.getElementById("terminal-output").innerHTML+=("<br>"+outputResult);
			}
			else if(input=="LOGICIANS CODE"){
				var drawing="<br><br>      _---~~(~~-_.<br>"+
			         "    _{        )   )<br>"+
			         "  ,   ) -~~- ( ,-' )<br>"+
			         " (  `-,_..`., )-- '_,)<br>"+
			         "( ` _)  (  -~( -_ `,  }<br>"+
			         "(_-  _  ~_-~~~~`,  ,' )<br>"+
			         "  `~ -^(    __;-,((()))<br>"+
			         "        ~~~~ {_ -_(())<br>"+
			         "               `\  }<br>"+
				"                 { }<br><br>";
		
				var outputResult=drawing+"-event-description: It is a reverse-coding event. It is also a code relay. <br>"+
				"-rules: Maximum of 2 members per team.<br>"+
				"-rules: Teams will have to register online before they participate.<br>"+
				"-timings: Prelims at 10AM. Finals at 2PM.<br>"+
				"-contact: Arjun Aravind (8939227284) or Sathvik (8939227284)<br>";
				
				document.getElementById("terminal-output").innerHTML+=("<br>"+outputResult);
			}
			else if (input=="STARTX") {
				window.location.href = "startx.html";
			}
			else if (input=="DEVELOPER"){
				window.location.href = "../developer/"
			}
			else{ //We've put this whole ascii art for the 'command not found' error.
				var drawing="<br><br> _    _     ___     _    _        _       _<br>"+
			       "|:|  |:|   /:::\\   |:|  |:|      |  |\\/| | \\ <br>"+
			       "|:|  |:|  /:/'\\:\\  |:|  |:|      |_ |  | |_/<br>"+
			       "|:|__|:| |:|   |:| |:|__|:|           _  ___<br>"+
			       "|::::::| |:|   |:| |::::::|     |\\ | / \\  |<br>"+
			       "'----|:| |:|   |:| '----|:|     | \\| \\_/  |<br>"+
			       "     |:| |:|   |:|      |:|   _  _            _<br>"+
			       "     |:| |:\\   |:|      |:|  |_ / \\ | | |\\ | | \\<br>"+
			       "     |:|  \\:\\_/:/       |:|  |  \\_/ \\_/ | \\| |_/<br>"+
			       "     |:|   \\:::/        |:|<br>"+
			       "     '\"'    '\"'         '\"'<br><br>";
				
				
				var outputResult=drawing+"-bash: "+input+": This is not a recognised command.<br>";
				document.getElementById("terminal-output").innerHTML+=("<br>"+outputResult);
			}
			
			//Every command entered requires a new cursor element and a new terminal-form element.
			//Below, we make sure the previous cursor becomes black so that it is not seen.
			document.getElementById("cursor-blink"+idNum).style.backgroundColor="black"; 
			document.getElementById("cursor-blink"+idNum).style.color="black";
			
			//We then start to create new cursor and terminal-form elements. 
			//We then display these newly created elements along with the user-terminal string into the <p> "terminal-output" tag.
			idNum+=1;
			var userTerminal1="<span style='color: blue;'>("+getDateTime()+") </span><span style='color:orange'>root<span style='color:yellow;''>@</span><span style='color:orange'>interrupt18</span>:~$</span> ";
			document.getElementById("terminal-output").innerHTML+=("<br>"+userTerminal1+" <span class='ter-inp' id='terminal-form-input"+idNum+"'></span>");
			document.getElementById("terminal-output").innerHTML+=("<span style='width:5%;' id='cursor-blink"+idNum+"'>|</span>");
			document.getElementById("terminal-input").value=""; //We set the value of the invisible textfield to null.
		}
		
		function setTerminalText(num){
			//When a command is clicked, it calls this function with a particular argument. By using the argument, we then set a value into the invisible textfield. We then call the analyseInput() function which will then analyse to see what is there in the textfield and give the correct output.
			
			var str="";
			

			if(num==1){
dNum+=1;
                        var userTerminal1="<span style='color: blue;'>("+getDateTime()+") </span><span style='color:orange'>root<span style='color:yellow;''>@</span><span style='color:orange'>interrupt18</span>:~$</span> ";
                        document.getElementById("terminal-output").innerHTML+=("<br>"+userTerminal1+" <span class='ter-inp' id='terminal-form-input"+idNum+"'></span>");
                        document.getElementById("terminal-output").innerHTML+=("<span style='width:5%;' id='cursor-blink"+idNum+"'>|</span>");
                        document.getElementById("terminal-input").value=""; //We set the value of the invisible textfield to null.				str="registration";
			}
			else if(num==2){
				str="contact-us";
			}
			else if(num==3){
				str="Good Will Hunting";
			}
			else if(num==4){
				str="The Game Of Codes";
			}
			else if(num==5){
				str="The Predestination";
			}
			else if(num==6){
				str="The Digital Fortress";
			}
			else if(num==7){
				str="The Terminal Of Secrets";
			}
			else if(num==8){
				str="Unicorn of Silicon";
			}
			else if(num==9){
				str="Fish Bowl Conversations";
			}
			else if(num==10){
				str="Quizzerati";
			}
			else if(num==11){
				str="Mini Project";
			}
			else if(num==12){
				str="Presentation Frankenstein";
			}
			else if(num==13){
				str="clear"; //This is there because we need to clear the screen automatically when entering 'ls'.
			}
			
			document.getElementById("terminal-form-input"+idNum).innerHTML=str;
			document.getElementById("terminal-input").value=str;
			analyseInput();
		} //This function gets the number of the command clicked and then puts it into the input and called the prev func.		
		
		function autoFillInput(e){
			if(e.keyCode==9){
				var terminal_input=document.getElementById("terminal-input").value;

				if(terminal_input[0]=='h'){
					document.getElementById("terminal-input").value="home";
                                        document.getElementById("terminal-form-input"+idNum).innerHTML="home";
				}
				else if(terminal_input[0]=='r'){
					document.getElementById("terminal-input").value="register";
					document.getElementById("terminal-form-input"+idNum).innerHTML="register";
				}
				else if(terminal_input[0]=='l'){
                                        document.getElementById("terminal-input").value="login";
                                        document.getElementById("terminal-form-input"+idNum).innerHTML="login";
                                }
				else if(terminal_input[0]=='c'){
                                        document.getElementById("terminal-input").value="contact-us";
                                        document.getElementById("terminal-form-input"+idNum).innerHTML="contact-us";
                                }

				window.setTimeout(function(){
					document.getElementById("terminal-input").focus();
				},0);
			}
		}

		/*========================================*/
		/*========================================*/
		
	</script>

</html>
